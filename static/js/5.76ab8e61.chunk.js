(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{34:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return b})),n.d(e,"d",(function(){return j})),n.d(e,"e",(function(){return p}));var r=n(37),c=n(38),a=n.n(c),u=n(39),i=n.n(u),s="fa84220f1f9a5152653d3d7d5b11f1de",o="https://api.themoviedb.org/3",l=function(){var t=Object(r.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"/trending/movie/day?api_key=").concat(s));case 2:return e=t.sent,n=e.data.results.map((function(t){return{id:t.id,title:t.title}})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(r.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(s));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(r.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(s));case 2:return n=t.sent,r=n.data.results.map((function(t){return{author:t.author,content:t.content,id:t.id}})),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(r.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(s));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(r.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"/search/movie?api_key=").concat(s,"&language=en-US&page=1&include_adult=false&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},71:function(t,e,n){"use strict";n.r(e);var r=n(40),c=n(0),a=n(2),u=n(8),i=n(34),s=n(1),o=Object(c.lazy)((function(){return n.e(7).then(n.bind(null,68))})),l=Object(c.lazy)((function(){return n.e(9).then(n.bind(null,69))}));e.default=function(){var t,e,n,d=Object(a.i)(),j=Object(c.useState)(null),b=Object(r.a)(j,2),p=b[0],f=b[1],h=Object(c.useState)(null),v=Object(r.a)(h,2),O=v[0],m=v[1],x=Object(c.useState)(null),w=Object(r.a)(x,2),g=w[0],y=w[1],k=Object(a.h)().moviesId,_=Object(c.useRef)(null),S=Object(a.f)(),C=Object(a.g)();return console.log("location",C),Object(c.useEffect)((function(){_.current||(_.current=C.state)}),[C.state]),Object(c.useEffect)((function(){Object(i.b)(k).then(f),Object(i.d)(k).then(m),Object(i.a)(k).then(y)}),[k]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:function(){var t=_.current.params.pathname,e=_.current.params.search;S.push("".concat(t).concat(e))},children:"\u041d\u0430\u0437\u0430\u0434"}),Object(s.jsx)("h2",{children:"MovieDetailsPage"}),p&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(p.poster_path),alt:p.title,width:"150"}),Object(s.jsxs)("h2",{children:[p.title,"(",null!==(t=null===p||void 0===p||null===(e=p.release_date)||void 0===e?void 0:e.slice(0,4))&&void 0!==t?t:"Not",")"]}),Object(s.jsx)("h3",{children:"Overview:"}),Object(s.jsx)("p",{children:p.overview}),Object(s.jsx)("h3",{children:"Genres"}),Object(s.jsx)("p",{children:null===p||void 0===p||null===(n=p.genres)||void 0===n?void 0:n.map((function(t){return t.name+" "}))}),Object(s.jsx)(u.b,{to:"".concat(d.url,"/cast"),children:Object(s.jsx)("li",{children:"Cast"})}),Object(s.jsx)(u.b,{to:"".concat(d.url,"/reviews"),children:Object(s.jsx)("li",{children:"Reviews"})}),Object(s.jsx)(a.a,{path:"".concat(d.url,"/cast"),children:g&&Object(s.jsx)(o,{moviesIdCast:g})}),Object(s.jsx)(a.a,{path:"".concat(d.url,"/reviews"),children:O&&Object(s.jsx)(l,{moviesIdReview:O})})]})]})}}}]);
//# sourceMappingURL=5.76ab8e61.chunk.js.map