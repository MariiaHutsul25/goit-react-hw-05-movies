(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[6],{34:function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return d}));var r=n(37),a=n(38),c=n.n(a),u=n(39),o=n.n(u),i="fa84220f1f9a5152653d3d7d5b11f1de",s="https://api.themoviedb.org/3",p=function(){var t=Object(r.a)(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/trending/movie/day?api_key=").concat(i));case 2:return e=t.sent,n=e.data.results.map((function(t){return{id:t.id,title:t.title}})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(r.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/movie/").concat(e,"?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(r.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(i));case 2:return n=t.sent,r=n.data.results.map((function(t){return{author:t.author,content:t.content,id:t.id}})),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(r.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/search/movie?api_key=").concat(i,"&language=en-US&page=1&include_adult=false&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},73:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.r(e);var u=n(40),o=n(0),i=n(2),s=n(8),p=n(34),f=n(1);e.default=function(){var t=Object(o.useState)(null),e=Object(u.a)(t,2),n=e[0],r=e[1],a=Object(o.useState)(null),b=Object(u.a)(a,2),l=b[0],d=b[1],j=Object(i.f)(),O=Object(i.g)(),h=new URLSearchParams(O.search).get("query");Object(o.useEffect)((function(){n||Object(p.e)(n).then(d)}),[n]),Object(o.useEffect)((function(){h||r(h)}),[h]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"MoviesPage"}),Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target.elements.query.value;r(e),j.push(c(c({},O),{},{search:"query=".concat(e)})),t.target.elements.query.value=""},children:[Object(f.jsx)("input",{type:"text",name:"query"}),Object(f.jsx)("button",{children:"search"})]}),l&&l.map((function(t){return Object(f.jsx)("li",{children:Object(f.jsx)(s.b,{to:{pathname:"movies/".concat(t.id),state:{params:O}},children:t.title})},t.id)}))]})}}}]);
//# sourceMappingURL=6.69b1049a.chunk.js.map